<!DOCTYPE html>
<html>

<head>
    <title>synthmata: Volca FM</title>
    <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css?family=Press+Start+2P" rel="stylesheet" />
    <link href="style/style.css" rel="stylesheet" />
    <script src="../script/base64js.min.js"></script>
    <script src="../script/synthmata.js" type="text/javascript"></script>
    <script src="../script/dx7envdisplay.js" type="text/javascript"></script>
    <script src="../script/volcaFmRandomizer.js" type="text/javascript"></script>
    <script src="../script/input-knobs.js" type="text/javascript"></script>
    <script>

        var valueDisplayFunctions = {
            "addOne": x => x + 1,
            "opScaling": x => ["-ln", "-ex", "+ex", "+ln"][x],
            "lfoShape": x => ["tri", "sup", "sdn", "sqr", "sin", "s+h"][x],
        };
        var valueDisplayTimeout = null;
        var valueDisplayTimeoutIntervalMs = 1000;
        var copiedObject = null;
        
        function doValueDisplay(event){
            let targetElementBounding = event.target.getBoundingClientRect();
            let valueDisplayer = document.getElementById("valueDisplay");
            let disFunc = valueDisplayFunctions[event.target.dataset.displayvaluefunc];
            if(disFunc){
                valueDisplayer.innerText = disFunc(parseInt(event.target.value));
            }else{
                valueDisplayer.innerText = parseInt(event.target.value);
            }
            valueDisplayer.style.display = "block";
            if (valueDisplayTimeout != null) {
                clearTimeout(valueDisplayTimeout);
            }
            valueDisplayTimeout = setTimeout(function () {
                valueDisplayer.style.display = "none";
            }, valueDisplayTimeoutIntervalMs);
        }

        function setupValueDisplay(){
            for (let sysexControl of document.getElementsByClassName("sysexParameter")) {
                sysexControl.addEventListener("input", doValueDisplay);
                sysexControl.addEventListener("mouseover", doValueDisplay);
            }
            for (let sysexControl of document.getElementsByClassName("randomizerParameter")) {
                sysexControl.addEventListener("input", doValueDisplay);
                sysexControl.addEventListener("mouseover", doValueDisplay);
            }
        }

        function setupEnvelopes(){
            let envelopeSysexes = [
                ["sysex105", "sysex106", "sysex107", "sysex108", "sysex109", "sysex110", "sysex111", "sysex112", "op1EnvCanvas"],
                ["sysex84", "sysex85", "sysex86", "sysex87", "sysex88", "sysex89", "sysex90", "sysex91", "op2EnvCanvas"],
                ["sysex63", "sysex64", "sysex65", "sysex66", "sysex67", "sysex68", "sysex69", "sysex70", "op3EnvCanvas"],
                ["sysex42", "sysex43", "sysex44", "sysex45", "sysex46", "sysex47", "sysex48", "sysex49", "op4EnvCanvas"],
                ["sysex21", "sysex22", "sysex23", "sysex24", "sysex25", "sysex26", "sysex27", "sysex28", "op5EnvCanvas"],
                ["sysex0", "sysex1", "sysex2", "sysex3", "sysex4", "sysex5", "sysex6", "sysex7", "op6EnvCanvas"]
            ];
            
            for(let params of envelopeSysexes){
                let updateFunc = makeEnvelope(...params.map(x => document.getElementById(x)));
                window.addEventListener("synthmataPatchLoaded", x => updateFunc());
            }
        }
        
        function setupRandomizer(){
            let randomize = randomizer(document);
            document.getElementById("random_newpatch").addEventListener(
                "click", 
                x => {
                    loadInitPatch();
                    randomize(
                        document.getElementById("random_atonality").value,
                        document.getElementById("random_complexity").value,
                        document.getElementById("random_brightness").value,
                        document.getElementById("random_hardness").value,
                        document.getElementById("random_hit").value,
                        document.getElementById("random_twang").value,
                        document.getElementById("random_longness").value,
                        document.getElementById("random_wobble").value,
                        document.getElementById("random_wubble").value,
                        document.getElementById("random_velocity").value,
                    );
                fullRefreshSysexData(); // have to do this because no onchange events will be thrown 
                sendSysexDump();
                window.dispatchEvent(patchLoadedEvent);
            });
        }

        function setupCopyPaste(){
            for(let copyButton of document.getElementsByClassName("copybutton")){
                let copyGroupId = copyButton.dataset.forcopygroup;
                if(!copyGroupId){
                    continue;
                }
                let copyGroupRoot = document.querySelector(`*[data-copygroup=${copyGroupId}]`);
                if(!copyGroupRoot){
                    continue;
                }
                copyButton.addEventListener("click", x =>{
                    let tmpCopyOb = {};
                    for(let copiable of copyGroupRoot.querySelectorAll("*[data-copyid]")){
                        tmpCopyOb[copiable.dataset.copyid] = copiable.value;
                    }
                    copiedObject = tmpCopyOb;
                });
            }

            for(let pasteButton of document.getElementsByClassName("pastebutton")){
                let copyGroupId = pasteButton.dataset.forcopygroup;
                if(!copyGroupId){
                    continue;
                }
                let copyGroupRoot = document.querySelector(`*[data-copygroup=${copyGroupId}]`);
                if(!copyGroupRoot){
                    continue;
                }
                pasteButton.addEventListener("click", x =>{
                    if(copiedObject){
                        for(let copiable of copyGroupRoot.querySelectorAll("*[data-copyid]")){
                            let copyValue = copiedObject[copiable.dataset.copyid];
                            if(copyValue !== undefined){
                                copiable.value = copyValue;
                            }
                        }
                        window.dispatchEvent(patchLoadedEvent);
                        fullRefreshSysexData();
                        sendSysexDump();
                        
                    }
                });
            }
        }

        function knobify(){
            for (let sysexControl of document.getElementsByClassName("sysexParameter")) {
                sysexControl.classList.add("input-knob");
                sysexControl.dataset["diameter"] = "32";
                sysexControl.dataset["fgcolor"] = "rgb(41, 163, 67)";
                sysexControl.dataset["bgcolor"] = "#111111";
            }
            for (let sysexControl of document.getElementsByClassName("sysexParameterBitswitch")) {
                sysexControl.classList.add("input-switch");
                sysexControl.dataset["diameter"] = "24";
                sysexControl.dataset["fgcolor"] = "rgb(41, 163, 67)";
                sysexControl.dataset["bgcolor"] = "#111111";
            }
        }

        function showHideInstructions(){
            let instructions = document.getElementById("instructions");
            if(instructions.classList.contains("hiddenInstructions")){
                instructions.classList.remove("hiddenInstructions");
                instructions.classList.add("shownInstructions");
            }else{
                instructions.classList.remove("shownInstructions");
                instructions.classList.add("hiddenInstructions");
            }
        }

        function initialise(){
            knobify();
            setupValueDisplay();
            setupEnvelopes();
            setupRandomizer();
            setupCopyPaste();
            
        }
    </script>
</head>

<body onload="initialise()">
    <div id="title-head">
        <span>synthmata</span>
    </div>
    <div id="title-byline">
        <span>by
            <a href="http://oscillatorsink.com">oscillatorsink</a>
        </span>
    </div>
    <div id="subtitle-head">
        <span>free online patch editor for Volca FM + DX7</span>
    </div>
    
    <div id="main-content">
        <div id="instructioncontrolpanel" class="controlpanel">
            <h2>Instructions</h2>
            <div class="showHide"><a href="#instructioncontrolpanel" onclick="showHideInstructions()">show / hide</a></div>
            <div id="instructions" class="hiddenInstructions">
                <ul>
                    <li>Connect your Volca FM (or DX7) to your chosen MIDI interface.</li>
                    <li>Select that MIDI interface in the Midi Device Setup and set the channel (for Volcas this should always be channel 1).</li>
                    <li>Choose the instrument type from: Original Volca FM, New Volca FM (2022, green display) or DX7.</li>
                    <li>
                        The patch will be sent to your Volca automatically when the interface/instrument/channel is chosen. 
                        Click the "Init Patch" button to send a good starting point for patch creation.
                    </li>
                    <li>Make your patch (or use the Randomizer)!</li>
                </ul>
                <p>
                    Don't have a USB-MIDI interface? I usually reccomend the Roland UM-One mk2 which has been confirmed to work well by multiple users and
                    is pretty inexpensive.
                </p>
                <h3>Tips!</h3>
                <p>My preferred way to "save" your patch is by clicking "Create Sharable Patch Link" and saving the link somewhere (and don't forget to share it!).</p>
                <p>
                    You can also save your patch by hitting the "Save Sysex" button. This will download a midi sysex filke which you can send to your instrument using one
                    of many sysex tools eg:
                </p>
                <ul>
                    <li>MIDI Sysex Transfer Utility (Windows, available on the Microsoft Store)</li>
                    <li>Bome SendSX (Windows)</li>
                    <li>Sysex Librarian (macOS)</li>
                    <lil>amidi (Linux, command line utility)</lil>
                </ul>
                <p>
                    Synthmata works with single patch sysex files - please be aware that many patches available online are in the cartridge format and are 
                    not (currently) compatible with this editor.
                </p>
                <p>
                    If things aren't working, 90% of the time it's down to the MIDI interface. If you have a cheaper, unbranded USB-MIDI interface
                    these are very hit and miss in terms of sending larger buffers of sysex data. I have one and it works fine, but I've used another
                    which <em>looks</em> identical but doesn't work. The Arturia KeyStep and BeatStep controllers also don't pass Sysex properly - this
                    is also the case for a lot of "controllers". As noted above: the Roland UM-One Mk.2 is known to work well and is inexpensive.
                </p>
                <p>
                    Anoter potential cause on the newer Volca FM with MIDI on minijack connectors is using the incorrect adapter. Korg instruments use Type A converter.
                </p>

                <p>Have fun!</p>
                <p>If you have questions you can get hold of me on one of many social media platforms:</p>
                <ul>
                    <li><a href="https://www.youtube.com/oscillatorsink">YouTube</a></li>
                    <li><a href="https://www.facebook.com/OscillatorSink/">Facebook</a></li>
                    <li><a href="https://twitter.com/oscillatorsink">Twitter</a></li>
                </ul>
                <p>
                    Oh, and if you want to create your own midi controller in html you can find the library I built here:
                    <a href="https://github.com/synthmata/ccynthmata">ccynthmata</a>
                </p>
            </div>
        </div>
        <div class="controlpanel">
            <h2>Setup</h2>
            <div class="controlflexlayout">
                <div class="controlitemgroup" id="midiSetup">
                    <h3>Midi Device Setup</h3>
                    <p>NB For Volca-FM please leave channel set to '1' as the Volca only listens for patch information on this channel</p>
                    <p>For Yamaha DX7, leave channel set to '1' if you want to receive voices from the DX7 ('Sysex available' mode), as it always transmits at channel 1.</p>
                </div>
                <div class="controlitemgroup" id="saveLoadShare">
                    <h3>Save/Load/Share</h3>
                </div>

            </div>
        </div>
        <div class="controlpanel">
            <h2>Randomizer</h2>
            <p>
                The Randomizer automatically generates new patches based upon a set of 10 descriptive parameters.
            </p>
            <p>
                Set the parameters, click "New Patch" as many times as it takes to find a patch you like (the new patch will be sent to the synth automatically each time).
            </p>
            <p>
                This is a great way to find inspiration for new patches, but with most moderate settings on the sliders the patches will be usually be completely usable
                "out of the box".
            </p>
            <div class="controlflexlayout">
                <div class="controlitemgroup">
                    <h3>Timbre</h3>
                    <div class="controller">
                        <label for="random_atonality">Atonality</label>
                        <input id="random_atonality" class="randomizerParameter" value="0" max="99" min="0" type="range" />
                    </div>
                    <div class="controller">
                        <label for="random_complexity">Complexity</label>
                        <input id="random_complexity" class="randomizerParameter" value="0" max="99" min="0" type="range" />
                    </div>
                    <div class="controller">
                        <label for="random_brightness">Brightness</label>
                        <input id="random_brightness" class="randomizerParameter" value="0" max="99" min="0" type="range" />
                    </div>
                </div>
                <div class="controlitemgroup">
                    <h3>Envelope</h3>
                    <div class="controller">
                        <label for="random_hardness">Hardness</label>
                        <input id="random_hardness" class="randomizerParameter" value="50" max="99" min="0" type="range" />
                    </div>
                    <div class="controller">
                        <label for="random_hit">Hit</label>
                        <input id="random_hit" class="randomizerParameter" value="50" max="99" min="0" type="range" />
                    </div>
                    <div class="controller">
                        <label for="random_twang">Twang</label>
                        <input id="random_twang" class="randomizerParameter" value="50" max="99" min="0" type="range" />
                    </div>
                    <div class="controller">
                        <label for="random_longness">Longness</label>
                        <input id="random_longness" class="randomizerParameter" value="50" max="99" min="0" type="range" />
                    </div>
                </div>
                <div class="controlitemgroup">
                    <h3>Movement</h3>
                    <div class="controller">
                        <label for="random_wobble">Wobble</label>
                        <input id="random_wobble" class="randomizerParameter" value="0" max="99" min="0" type="range" />
                    </div>
                    <div class="controller">
                        <label for="random_wubble">Wubble</label>
                        <input id="random_wubble" class="randomizerParameter" value="0" max="99" min="0" type="range" />
                    </div>
                    <div class="controller">
                        <label for="random_velocity">Velocity</label>
                        <input id="random_velocity" class="randomizerParameter" value="0" max="99" min="0" type="range" />
                    </div>
                </div>
                <div class="controlitemgroup">
                    <h3>Go!</h3>
                    <div class="controller">
                        <button id="random_newpatch" >New Patch</button>
                    </div>
                </div>
            </div>
        </div>
        <div class="controlpanel">
            <h2>Operator On/Off</h2>
            <div class="controlflexlayout">
                <div class="controlitemgroup">
                    <h3>Op 1</h3>
                    <label for="sysex155_1" style="display:none">Operator 1</label>
                    <input id="sysex155_1" class="sysexParameterBitswitch" data-sysexparameterno="155" data-sysexparameterbitmask="1" type="checkbox">
                </div>
                <div class="controlitemgroup">
                    <h3>Op 2</h3>
                    <label for="sysex155_2" style="display:none">Operator 2</label>
                    <input id="sysex155_2" class="sysexParameterBitswitch" data-sysexparameterno="155" data-sysexparameterbitmask="2" type="checkbox">
                </div>
                <div class="controlitemgroup">
                    <h3>Op 3</h3>
                    <label for="sysex155_4" style="display:none">Operator 3</label>
                    <input id="sysex155_4" class="sysexParameterBitswitch" data-sysexparameterno="155" data-sysexparameterbitmask="4" type="checkbox">
                </div>
                <div class="controlitemgroup">
                    <h3>Op 4</h3>
                    <label for="sysex155_8" style="display:none">Operator 4</label>
                    <input id="sysex155_8" class="sysexParameterBitswitch" data-sysexparameterno="155" data-sysexparameterbitmask="8" type="checkbox">
                </div>
                <div class="controlitemgroup">
                    <h3>Op 5</h3>
                    <label for="sysex155_16" style="display:none">Operator 5</label>
                    <input id="sysex155_16" class="sysexParameterBitswitch" data-sysexparameterno="155" data-sysexparameterbitmask="16" type="checkbox">
                </div>
                <div class="controlitemgroup">
                    <h3>Op 6</h3>
                    <label for="sysex155_32" style="display:none">Operator 6</label>
                    <input id="sysex155_32" class="sysexParameterBitswitch" data-sysexparameterno="155" data-sysexparameterbitmask="32" type="checkbox">
                </div>
            </div>
        </div>

        <div class="controlpanel" data-copygroup="Operator1">
            <h2>Operator 1</h2>
            <div class="controlflexlayout">
                <div class="controlitemgroup">
                    <h3>Envelope</h3>
                    <div class="table">
                        <div class="table-row">
                            <div class="controller table-cell">
                                <label for="sysex105">EG R1 </label>
                                <input class="sysexParameter" data-sysexparameterno="105" data-copyid="1" id="sysex105" max="99" min="0" type="range" />
                            </div>
                            <div class="controller table-cell">
                                <label for="sysex109">EG L1 </label>
                                <input class="sysexParameter" data-sysexparameterno="109" data-copyid="5" id="sysex109" max="99" min="0" type="range" />
                            </div>
                        </div>
                        <div class="table-row">
                            <div class="controller table-cell">
                                <label for="sysex106">EG R2 </label>
                                <input class="sysexParameter" data-sysexparameterno="106" data-copyid="2" id="sysex106" max="99" min="0" type="range" />
                            </div>
                            <div class="controller table-cell">
                                <label for="sysex110">EG L2 </label>
                                <input class="sysexParameter" data-sysexparameterno="110" data-copyid="6" id="sysex110" max="99" min="0" type="range" />
                            </div>
                        </div>
                        <div class="table-row">
                            <div class="controller table-cell">
                                <label for="sysex107">EG R3 </label>
                                <input class="sysexParameter" data-sysexparameterno="107" data-copyid="3" id="sysex107" max="99" min="0" type="range" />
                            </div>
                            <div class="controller table-cell">
                                <label for="sysex111">EG L3 </label>
                                <input class="sysexParameter" data-sysexparameterno="111" data-copyid="7" id="sysex111" max="99" min="0" type="range" />
                            </div>
                        </div>
                        <div class="table-row">
                            <div class="controller table-cell">
                                <label for="sysex108">EG R4 </label>
                                <input class="sysexParameter" data-sysexparameterno="108" data-copyid="4" id="sysex108" max="99" min="0" type="range" />
                            </div>
                            <div class="controller table-cell">
                                <label for="sysex112">EG L4 </label>
                                <input class="sysexParameter" data-sysexparameterno="112" data-copyid="8" id="sysex112" max="99" min="0" type="range" />
                            </div>
                        </div>
                    </div>
                </div>
                <div class="controlitemgroup">
                    <h3>Operator Scaling</h3>
                    <div class="table">
                        <div class="table-row">
                            <div class="controller table-cell">
                                <label for="sysex113">Break Point</label>
                                <input class="sysexParameter" data-sysexparameterno="113" data-copyid="9" id="sysex113" max="99" min="0" type="range" />
                            </div>
                            <div class="controller table-cell">
                                <label for="sysex118">Rate Scale</label>
                                <input class="sysexParameter" data-sysexparameterno="118" data-copyid="14" id="sysex118" max="7" min="0" type="range" />
                            </div>
                        </div>
                        <div class="table-row">
                            <div class="controller table-cell">
                                <label for="sysex114">Left Depth</label>
                                <input class="sysexParameter" data-sysexparameterno="114" data-copyid="10" id="sysex114" max="99" min="0" type="range" />
                            </div>
                            <div class="controller table-cell">
                                <label for="sysex116">Left Curve</label>
                                <input class="sysexParameter" data-sysexparameterno="116" data-copyid="12" data-displayvaluefunc="opScaling" id="sysex116" max="3" min="0" type="range" />
                            </div>
                        </div>
                        <div class="table-row">
                            <div class="controller table-cell">
                                <label for="sysex115">Right Depth</label>
                                <input class="sysexParameter" data-sysexparameterno="115" data-copyid="11" id="sysex115" max="99" min="0" type="range" />
                            </div>
                            <div class="controller table-cell">
                                <label for="sysex117">Right Curve</label>
                                <input class="sysexParameter" data-sysexparameterno="117" data-copyid="13" data-displayvaluefunc="opScaling" id="sysex117" max="3" min="0" type="range" />
                            </div>
                        </div> 
                    </div>
                </div>
                <div class="controlitemgroup">
                    <h3>Operator Tuning</h3>
                    <div class="controller">
                        <label for="sysex125">Detune </label>
                        <input class="sysexParameter" data-sysexparameterno="125" data-copyid="15" id="sysex125" max="14" min="0" type="range" />
                    </div>
                    <div class="controller">
                        <label for="sysex123">Frequency Coarse </label>
                        <input class="sysexParameter" data-sysexparameterno="123" data-copyid="16" id="sysex123" max="31" min="0" type="range" />
                    </div>
                    <div class="controller">
                        <label for="sysex124">Frequency Fine </label>
                        <input class="sysexParameter" data-sysexparameterno="124" data-copyid="17" id="sysex124" max="99" min="0" type="range" />
                    </div>
                    <div class="controller">
                        <label for="sysex122">Operator Mode </label>
                        <select class="sysexParameter" data-sysexparameterno="122" data-copyid="18" id="sysex122">
                            <option label="Ratio" value="0"></option>
                            <option label="Fixed" value="1"></option>
                        </select>
                    </div>
                </div>
                <div class="controlitemgroup">
                    <h3>Operator Levels and Sensitivity</h3>
                    <div class="controller">
                        <label for="sysex119">Amp Mod Sense </label>
                        <input class="sysexParameter" data-sysexparameterno="119" data-copyid="19" id="sysex119" max="3" min="0" type="range" />
                    </div>
                    <div class="controller">
                        <label for="sysex120">Key Velocity Sense </label>
                        <input class="sysexParameter" data-sysexparameterno="120" data-copyid="20" id="sysex120" max="7" min="0" type="range" />
                    </div>
                    <div class="controller">
                        <label for="sysex121">Operator Output Level </label>
                        <input class="sysexParameter" data-sysexparameterno="121" data-copyid="21" id="sysex121" max="99" min="0" type="range" />
                    </div>
                </div>
                <div class="controlitemgroup grows">
                    <div class="envelopeCanvasContainer">
                        <canvas id="op1EnvCanvas">
                    </div>
                </div>
                <div class="copypaste">
                    <button class="copybutton" data-forcopygroup="Operator1">Copy</button>
                    <button class="pastebutton" data-forcopygroup="Operator1">Paste</button>
                </div>
            </div>
        </div>
        <div class="controlpanel" data-copygroup="Operator2">
            <h2>Operator 2</h2>
            <div class="controlflexlayout">
                <div class="controlitemgroup">
                    <h3>Envelope</h3>
                    <div class="table">
                        <div class="table-row">
                            <div class="controller table-cell">
                                <label for="sysex84">EG R1 </label>
                                <input class="sysexParameter" data-sysexparameterno="84" data-copyid="1" id="sysex84" max="99" min="0" type="range" />
                            </div>
                            <div class="controller table-cell">
                                <label for="sysex88">EG L1 </label>
                                <input class="sysexParameter" data-sysexparameterno="88" data-copyid="5" id="sysex88" max="99" min="0" type="range" />
                            </div>
                        </div>
                        <div class="table-row">
                            <div class="controller table-cell">
                                <label for="sysex85">EG R2 </label>
                                <input class="sysexParameter" data-sysexparameterno="85" data-copyid="2" id="sysex85" max="99" min="0" type="range" />
                            </div>
                            <div class="controller table-cell">
                                <label for="sysex89">EG L2 </label>
                                <input class="sysexParameter" data-sysexparameterno="89" data-copyid="6" id="sysex89" max="99" min="0" type="range" />
                            </div>
                        </div>
                        <div class="table-row">
                            <div class="controller table-cell">
                                <label for="sysex86">EG R3 </label>
                                <input class="sysexParameter" data-sysexparameterno="86" data-copyid="3" id="sysex86" max="99" min="0" type="range" />
                            </div>
                            <div class="controller table-cell">
                                <label for="sysex90">EG L3 </label>
                                <input class="sysexParameter" data-sysexparameterno="90" data-copyid="7" id="sysex90" max="99" min="0" type="range" />
                            </div>
                        </div>
                        <div class="table-row">
                            <div class="controller table-cell">
                                <label for="sysex87">EG R4 </label>
                                <input class="sysexParameter" data-sysexparameterno="87" data-copyid="4" id="sysex87" max="99" min="0" type="range" />
                            </div>
                            <div class="controller table-cell">
                                <label for="sysex91">EG L4 </label>
                                <input class="sysexParameter" data-sysexparameterno="91" data-copyid="8" id="sysex91" max="99" min="0" type="range" />
                            </div>
                        </div>
                    </div>
                </div>

                <div class="controlitemgroup">
                    <h3>Operator Scaling</h3>
                    <div class="table">
                        <div class="table-row">
                            <div class="controller table-cell">
                                <label for="sysex92">Break Point </label>
                                <input class="sysexParameter" data-sysexparameterno="92" data-copyid="9" id="sysex92" max="99" min="0" type="range" />
                            </div>
                            <div class="controller  table-cell">
                                <label for="sysex97">Rate Scale </label>
                                <input class="sysexParameter" data-sysexparameterno="97" data-copyid="14" id="sysex97" max="7" min="0" type="range" />
                            </div>
                        </div>
                        <div class="table-row">
                            <div class="controller  table-cell">
                                <label for="sysex93">Left Depth </label>
                                <input class="sysexParameter" data-sysexparameterno="93" data-copyid="10" id="sysex93" max="99" min="0" type="range" />
                            </div>
                            <div class="controller  table-cell">
                                <label for="sysex95">Left Curve </label>
                                <input class="sysexParameter" data-sysexparameterno="95" data-copyid="12" data-displayvaluefunc="opScaling" id="sysex95" max="3" min="0" type="range" />
                            </div>
                        </div>
                        <div class="table-row">
                            <div class="controller  table-cell">
                                <label for="sysex94">Right Depth </label>
                                <input class="sysexParameter" data-sysexparameterno="94" data-copyid="11" id="sysex94" max="99" min="0" type="range" />
                            </div>
                            <div class="controller  table-cell">
                                <label for="sysex96">Right Curve </label>
                                <input class="sysexParameter" data-sysexparameterno="96" data-copyid="13" data-displayvaluefunc="opScaling" id="sysex96" max="3" min="0" type="range" />
                            </div>
                        </div>
                    </div>
                </div>
                <div class="controlitemgroup">
                    <h3>Operator Tuning</h3>
                    <div class="controller">
                        <label for="sysex104">Detune </label>
                        <input class="sysexParameter" data-sysexparameterno="104" data-copyid="15" id="sysex104" max="14" min="0" type="range" />
                    </div>
                    <div class="controller">
                        <label for="sysex102">Frequency Coarse </label>
                        <input class="sysexParameter" data-sysexparameterno="102" data-copyid="16" id="sysex102" max="31" min="0" type="range" />
                    </div>
                    <div class="controller">
                        <label for="sysex103">Frequency Fine </label>
                        <input class="sysexParameter" data-sysexparameterno="103" data-copyid="17" id="sysex103" max="99" min="0" type="range" />
                    </div>
                    <div class="controller">
                        <label for="sysex101">Operator Mode </label>
                        <select class="sysexParameter" data-sysexparameterno="101" data-copyid="18" id="sysex101">
                            <option label="Ratio" value="0"></option>
                            <option label="Fixed" value="1"></option>
                        </select>
                    </div>
                </div>
                <div class="controlitemgroup">
                    <h3>Operator Levels and Sensitivity</h3>
                    <div class="controller">
                        <label for="sysex98">Amp Mod Sense </label>
                        <input class="sysexParameter" data-sysexparameterno="98" data-copyid="19" id="sysex98" max="3" min="0" type="range" />
                    </div>
                    <div class="controller">
                        <label for="sysex99">Key Velocity Sense </label>
                        <input class="sysexParameter" data-sysexparameterno="99" data-copyid="20" id="sysex99" max="7" min="0" type="range" />
                    </div>
                    <div class="controller">
                        <label for="sysex100">Operator Output Level </label>
                        <input class="sysexParameter" data-sysexparameterno="100" data-copyid="21" id="sysex100" max="99" min="0" type="range" />
                    </div>
                </div>
                <div class="controlitemgroup">
                    <div class="envelopeCanvasContainer">
                        <canvas id="op2EnvCanvas" >
                    </div>
                </div>
                <div class="copypaste">
                    <button class="copybutton" data-forcopygroup="Operator2">Copy</button>
                    <button class="pastebutton" data-forcopygroup="Operator2">Paste</button>
                </div>
            </div>
        </div>
        <div class="controlpanel" data-copygroup="Operator3">
            <h2>Operator 3</h2>
            <div class="controlflexlayout">
                <div class="controlitemgroup">
                    <h3>Envelope</h3>
                    <div class="table">
                        <div class="table-row">
                            <div class="controller table-cell">
                                <label for="sysex63">EG R1 </label>
                                <input class="sysexParameter" data-sysexparameterno="63" data-copyid="1" id="sysex63" max="99" min="0" type="range" />
                            </div>
                            <div class="controller table-cell">
                                <label for="sysex67">EG L1 </label>
                                <input class="sysexParameter" data-sysexparameterno="67" data-copyid="5" id="sysex67" max="99" min="0" type="range" />
                            </div>
                        </div>
                        <div class="table-row">
                            <div class="controller table-cell">
                                <label for="sysex64">EG R2 </label>
                                <input class="sysexParameter" data-sysexparameterno="64" data-copyid="2" id="sysex64" max="99" min="0" type="range" />
                            </div>
                            <div class="controller table-cell">
                                <label for="sysex68">EG L2 </label>
                                <input class="sysexParameter" data-sysexparameterno="68" data-copyid="6" id="sysex68" max="99" min="0" type="range" />
                            </div>
                        </div>
                        <div class="table-row">
                            <div class="controller table-cell">
                                <label for="sysex65">EG R3 </label>
                                <input class="sysexParameter" data-sysexparameterno="65" data-copyid="3" id="sysex65" max="99" min="0" type="range" />
                            </div>
                            <div class="controller table-cell">
                                <label for="sysex69">EG L3 </label>
                                <input class="sysexParameter" data-sysexparameterno="69" data-copyid="7" id="sysex69" max="99" min="0" type="range" />
                            </div>
                        </div>
                        <div class="table-row">
                            <div class="controller table-cell">
                                <label for="sysex66">EG R4 </label>
                                <input class="sysexParameter" data-sysexparameterno="66" data-copyid="4" id="sysex66" max="99" min="0" type="range" />
                            </div>
                            <div class="controller table-cell">
                                <label for="sysex70">EG L4 </label>
                                <input class="sysexParameter" data-sysexparameterno="70" data-copyid="8" id="sysex70" max="99" min="0" type="range" />
                            </div>
                        </div>
                    </div>
                </div>
                <div class="controlitemgroup">
                    <h3>Operator Scaling</h3>
                    <div class="table">
                        <div class="table-row">
                            <div class="controller table-cell">
                                <label for="sysex71">Break Point </label>
                                <input class="sysexParameter" data-sysexparameterno="71" data-copyid="9" id="sysex71" max="99" min="0" type="range" />
                            </div>
                            <div class="controller table-cell">
                                <label for="sysex76">Rate Scale </label>
                                <input class="sysexParameter" data-sysexparameterno="76" data-copyid="14"  id="sysex76" max="7" min="0" type="range" />
                            </div>
                        </div>
                        <div class="table-row">
                            <div class="controller table-cell">
                                <label for="sysex72">Left Depth </label>
                                <input class="sysexParameter" data-sysexparameterno="72" data-copyid="10" id="sysex72" max="99" min="0" type="range" />
                            </div>
                            <div class="controller table-cell">
                                <label for="sysex74">Left Curve </label>
                                <input class="sysexParameter" data-sysexparameterno="74" data-copyid="12"  data-displayvaluefunc="opScaling" id="sysex74" max="3" min="0" type="range" />
                            </div>
                        </div>
                        <div class="table-row">
                            <div class="controller table-cell">
                                <label for="sysex73">Right Depth </label>
                                <input class="sysexParameter" data-sysexparameterno="73" data-copyid="11" id="sysex73" max="99" min="0" type="range" />
                            </div>
                            <div class="controller table-cell">
                                <label for="sysex75">Right Curve </label>
                                <input class="sysexParameter" data-sysexparameterno="75" data-copyid="13" data-displayvaluefunc="opScaling" id="sysex75" max="3" min="0" type="range" />
                            </div>
                        </div>
                        
                    </div>
                </div>
                <div class="controlitemgroup">
                    <h3>Operator Tuning</h3>
                    <div class="controller">
                        <label for="sysex83">Detune </label>
                        <input class="sysexParameter" data-sysexparameterno="83" data-copyid="15" id="sysex83" max="14" min="0" type="range" />
                    </div>
                    <div class="controller">
                        <label for="sysex81">Frequency Coarse </label>
                        <input class="sysexParameter" data-sysexparameterno="81" data-copyid="16" id="sysex81" max="31" min="0" type="range" />
                    </div>
                    <div class="controller">
                        <label for="sysex82">Frequency Fine </label>
                        <input class="sysexParameter" data-sysexparameterno="82" data-copyid="17" id="sysex82" max="99" min="0" type="range" />
                    </div>
                    <div class="controller">
                        <label for="sysex80">Operator Mode </label>
                        <select class="sysexParameter" data-sysexparameterno="80" data-copyid="18" id="sysex80">
                            <option label="Ratio" value="0"></option>
                            <option label="Fixed" value="1"></option>
                        </select>
                    </div>
                </div>
                <div class="controlitemgroup">
                    <h3>Operator Levels and Sensitivity</h3>
                    <div class="controller">
                        <label for="sysex77">Amp Mod Sense </label>
                        <input class="sysexParameter" data-sysexparameterno="77" data-copyid="19" id="sysex77" max="3" min="0" type="range" />
                    </div>
                    <div class="controller">
                        <label for="sysex78">Key Velocity Sense </label>
                        <input class="sysexParameter" data-sysexparameterno="78" data-copyid="20" id="sysex78" max="7" min="0" type="range" />
                    </div>
                    <div class="controller">
                        <label for="sysex79">Operator Output Level </label>
                        <input class="sysexParameter" data-sysexparameterno="79" data-copyid="21" id="sysex79" max="99" min="0" type="range" />
                    </div>

                </div>
                <div class="controlitemgroup">
                    <div class="envelopeCanvasContainer">
                        <canvas id="op3EnvCanvas" >
                    </div>
                </div>
                <div class="copypaste">
                    <button class="copybutton" data-forcopygroup="Operator3">Copy</button>
                    <button class="pastebutton" data-forcopygroup="Operator3">Paste</button>
                </div>
            </div>
        </div>
        <div class="controlpanel" data-copygroup="Operator4">
            <h2>Operator 4</h2>
            <div class="controlflexlayout">
                <div class="controlitemgroup">
                    <h3>Envelope</h3>
                    <div class="table">
                        <div class="table-row">
                            <div class="controller table-cell">
                                <label for="sysex42">EG R1 </label>
                                <input class="sysexParameter" data-sysexparameterno="42" data-copyid="1" id="sysex42" max="99" min="0" type="range" />
                            </div>
                            <div class="controller table-cell">
                                <label for="sysex46">EG L1 </label>
                                <input class="sysexParameter" data-sysexparameterno="46" data-copyid="5" id="sysex46" max="99" min="0" type="range" />
                            </div>
                        </div>
                        <div class="table-row">
                            <div class="controller table-cell">
                                <label for="sysex43">EG R2 </label>
                                <input class="sysexParameter" data-sysexparameterno="43" data-copyid="2" id="sysex43" max="99" min="0" type="range" />
                            </div>
                            <div class="controller table-cell">
                                <label for="sysex47">EG L2 </label>
                                <input class="sysexParameter" data-sysexparameterno="47" data-copyid="6" id="sysex47" max="99" min="0" type="range" />
                            </div>
                        </div>
                        <div class="table-row">
                            <div class="controller table-cell">
                                <label for="sysex44">EG R3 </label>
                                <input class="sysexParameter" data-sysexparameterno="44" data-copyid="3" id="sysex44" max="99" min="0" type="range" />
                            </div>
                            <div class="controller table-cell">
                                <label for="sysex48">EG L3 </label>
                                <input class="sysexParameter" data-sysexparameterno="48" data-copyid="7" id="sysex48" max="99" min="0" type="range" />
                            </div>
                        </div>
                        <div class="table-row">
                            <div class="controller table-cell">
                                <label for="sysex45">EG R4 </label>
                                <input class="sysexParameter" data-sysexparameterno="45" data-copyid="4" id="sysex45" max="99" min="0" type="range" />
                            </div>
                            <div class="controller table-cell">
                                <label for="sysex49">EG L4 </label>
                                <input class="sysexParameter" data-sysexparameterno="49" data-copyid="8" id="sysex49" max="99" min="0" type="range" />
                            </div>
                        </div>
                    </div>
                </div>
                <div class="controlitemgroup">
                    <h3>Operator Scaling</h3>
                    <div class="table">
                        <div class="table-row">
                            <div class="controller table-cell">
                                <label for="sysex50">Break Point </label>
                                <input class="sysexParameter" data-sysexparameterno="50" data-copyid="9" id="sysex50" max="99" min="0" type="range" />
                            </div>
                            <div class="controller table-cell">
                                <label for="sysex55">Rate Scale </label>
                                <input class="sysexParameter" data-sysexparameterno="55" data-copyid="14" id="sysex55" max="7" min="0" type="range" />
                            </div>
                        </div>
                        <div class="table-row">
                            <div class="controller table-cell">
                                <label for="sysex51">Left Depth </label>
                                <input class="sysexParameter" data-sysexparameterno="51" data-copyid="10" id="sysex51" max="99" min="0" type="range" />
                            </div>
                            <div class="controller table-cell">
                                <label for="sysex53">Left Curve </label>
                                <input class="sysexParameter" data-sysexparameterno="53" data-copyid="12" data-displayvaluefunc="opScaling" id="sysex53" max="3" min="0" type="range" />
                            </div>
                        </div>
                        <div class="table-row">
                            <div class="controller table-cell">
                                <label for="sysex52">Right Depth </label>
                                <input class="sysexParameter" data-sysexparameterno="52" data-copyid="11" id="sysex52" max="99" min="0" type="range" />
                            </div>
                            <div class="controller table-cell">
                                <label for="sysex54">Right Curve </label>
                                <input class="sysexParameter" data-sysexparameterno="54" data-copyid="13" data-displayvaluefunc="opScaling" id="sysex54" max="3" min="0" type="range" />
                            </div>
                        </div>
                    </div>
                </div>
                <div class="controlitemgroup">
                    <h3>Operator Tuning</h3>
                    <div class="controller">
                        <label for="sysex62">Detune </label>
                        <input class="sysexParameter" data-sysexparameterno="62" data-copyid="15" id="sysex62" max="14" min="0" type="range" />
                    </div>
                    <div class="controller">
                        <label for="sysex60">Frequency Coarse </label>
                        <input class="sysexParameter" data-sysexparameterno="60" data-copyid="16" id="sysex60" max="31" min="0" type="range" />
                    </div>
                    <div class="controller">
                        <label for="sysex61">Frequency Fine </label>
                        <input class="sysexParameter" data-sysexparameterno="61" data-copyid="17"  id="sysex61" max="99" min="0" type="range" />
                    </div>
                    <div class="controller">
                        <label for="sysex59">Operator Mode </label>
                        <select class="sysexParameter" data-sysexparameterno="59" data-copyid="18" id="sysex59">
                            <option label="Ratio" value="0"></option>
                            <option label="Fixed" value="1"></option>
                        </select>
                    </div>
                </div>
                <div class="controlitemgroup">
                    <h3>Operator Levels and Sensitivity</h3>
                    <div class="controller">
                        <label for="sysex56">Amp Mod Sense </label>
                        <input class="sysexParameter" data-sysexparameterno="56" data-copyid="19" id="sysex56" max="3" min="0" type="range" />
                    </div>
                    <div class="controller">
                        <label for="sysex57">Key Velocity Sense </label>
                        <input class="sysexParameter" data-sysexparameterno="57" data-copyid="20"  id="sysex57" max="7" min="0" type="range" />
                    </div>
                    <div class="controller">
                        <label for="sysex58">Operator Output Level </label>
                        <input class="sysexParameter" data-sysexparameterno="58" data-copyid="21" id="sysex58" max="99" min="0" type="range" />
                    </div>
                </div>
                <div class="controlitemgroup">
                    <div class="envelopeCanvasContainer">
                        <canvas id="op4EnvCanvas" >
                    </div>
                </div>
                <div class="copypaste">
                    <button class="copybutton" data-forcopygroup="Operator4">Copy</button>
                    <button class="pastebutton" data-forcopygroup="Operator4">Paste</button>
                </div>
            </div>
        </div>
        <div class="controlpanel" data-copygroup="Operator5">
            <h2>Operator 5</h2>
            <div class="controlflexlayout">
                <div class="controlitemgroup">
                    <h3>Envelope Rates</h3>
                    <div class="table">
                        <div class="table-row">
                            <div class="controller table-cell">
                                <label for="sysex21">EG R1 </label>
                                <input class="sysexParameter" data-sysexparameterno="21" data-copyid="1" id="sysex21" max="99" min="0" type="range" />
                            </div>
                            <div class="controller table-cell">
                                <label for="sysex25">EG L1 </label>
                                <input class="sysexParameter" data-sysexparameterno="25" data-copyid="5" id="sysex25" max="99" min="0" type="range" />
                            </div>
                        </div>
                        <div class="table-row">
                            <div class="controller table-cell">
                                <label for="sysex22">EG R2 </label>
                                <input class="sysexParameter" data-sysexparameterno="22" data-copyid="2" id="sysex22" max="99" min="0" type="range" />
                            </div>
                            <div class="controller table-cell">
                                <label for="sysex26">EG L2 </label>
                                <input class="sysexParameter" data-sysexparameterno="26" data-copyid="6" id="sysex26" max="99" min="0" type="range" />
                            </div>
                        </div>
                        <div class="table-row">
                            <div class="controller table-cell">
                                <label for="sysex23">EG R3 </label>
                                <input class="sysexParameter" data-sysexparameterno="23" data-copyid="3" id="sysex23" max="99" min="0" type="range" />
                            </div>
                            <div class="controller table-cell">
                                <label for="sysex27">EG L3 </label>
                                <input class="sysexParameter" data-sysexparameterno="27" data-copyid="7" id="sysex27" max="99" min="0" type="range" />
                            </div>
                        </div>
                        <div class="table-row">
                            <div class="controller table-cell">
                                <label for="sysex24">EG R4 </label>
                                <input class="sysexParameter" data-sysexparameterno="24" data-copyid="4"  id="sysex24" max="99" min="0" type="range" />
                            </div>
                            <div class="controller table-cell">
                                <label for="sysex28">EG L4 </label>
                                <input class="sysexParameter" data-sysexparameterno="28" data-copyid="8" id="sysex28" max="99" min="0" type="range" />
                            </div>
                        </div>
                    </div>
                </div>
                <div class="controlitemgroup">
                    <h3>Operator Scaling</h3>
                    <div class="table">
                        <div class="table-row">
                            <div class="controller table-cell">
                                <label for="sysex29">Break Point </label>
                                <input class="sysexParameter" data-sysexparameterno="29" data-copyid="9" id="sysex29" max="99" min="0" type="range" />
                            </div>
                            <div class="controller table-cell">
                                <label for="sysex34">Rate Scale </label>
                                <input class="sysexParameter" data-sysexparameterno="34" data-copyid="14" id="sysex34" max="7" min="0" type="range" />
                            </div>
                        </div>
                        <div class="table-row">
                            <div class="controller table-cell">
                                <label for="sysex30">Left Depth </label>
                                <input class="sysexParameter" data-sysexparameterno="30" data-copyid="10" id="sysex30" max="99" min="0" type="range" />
                            </div>
                            <div class="controller table-cell">
                                <label for="sysex32">Left Curve </label>
                                <input class="sysexParameter" data-sysexparameterno="32" data-copyid="12" data-displayvaluefunc="opScaling" id="sysex32" max="3" min="0" type="range" />
                            </div>
                        </div>
                        <div class="table-row">
                            <div class="controller table-cell">
                                <label for="sysex31">Right Depth </label>
                                <input class="sysexParameter" data-sysexparameterno="31" data-copyid="11" id="sysex31" max="99" min="0" type="range" />
                            </div>
                            <div class="controller table-cell">
                                <label for="sysex33">Right Curve </label>
                                <input class="sysexParameter" data-sysexparameterno="33" data-copyid="13" data-displayvaluefunc="opScaling" id="sysex33" max="3" min="0" type="range" />
                            </div>
                        </div>
                    </div>
                </div>
                <div class="controlitemgroup">
                    <h3>Operator Tuning</h3>
                    <div class="controller">
                        <label for="sysex41">Detune </label>
                        <input class="sysexParameter" data-sysexparameterno="41" data-copyid="15" id="sysex41" max="14" min="0" type="range" />
                    </div>
                    <div class="controller">
                        <label for="sysex39">Frequency Coarse </label>
                        <input class="sysexParameter" data-sysexparameterno="39" data-copyid="16" id="sysex39" max="31" min="0" type="range" />
                    </div>
                    <div class="controller">
                        <label for="sysex40">Frequency Fine </label>
                        <input class="sysexParameter" data-sysexparameterno="40" data-copyid="17" id="sysex40" max="99" min="0" type="range" />
                    </div>
                    <div class="controller">
                        <label for="sysex38">Operator Mode </label>
                        <select class="sysexParameter" data-sysexparameterno="38" data-copyid="18" id="sysex38">
                            <option label="Ratio" value="0"></option>
                            <option label="Fixed" value="1"></option>
                        </select>
                    </div>
                </div>
                <div class="controlitemgroup">
                    <h3>Operator Levels and Sensitivity</h3>
                    <div class="controller">
                        <label for="sysex35">Amp Mod Sense </label>
                        <input class="sysexParameter" data-sysexparameterno="35" data-copyid="19" id="sysex35" max="3" min="0" type="range" />
                    </div>
                    <div class="controller">
                        <label for="sysex36">Key Velocity Sense </label>
                        <input class="sysexParameter" data-sysexparameterno="36" data-copyid="20" id="sysex36" max="7" min="0" type="range" />
                    </div>
                    <div class="controller">
                        <label for="sysex37">Operator Output Level </label>
                        <input class="sysexParameter" data-sysexparameterno="37" data-copyid="21" id="sysex37" max="99" min="0" type="range" />
                    </div>
                </div>
                <div class="controlitemgroup">
                    <div class="envelopeCanvasContainer">
                        <canvas id="op5EnvCanvas" >
                    </div>
                </div>
                <div class="copypaste">
                    <button class="copybutton" data-forcopygroup="Operator5">Copy</button>
                    <button class="pastebutton" data-forcopygroup="Operator5">Paste</button>
                </div>
            </div>
        </div>
        <div class="controlpanel" data-copygroup="Operator6">
            <h2>Operator 6</h2>
            <div class="controlflexlayout">
                <div class="controlitemgroup">
                    <h3>Envelope Rates</h3>
                    <div class="table">
                        <div class="table-row">
                            <div class="controller table-cell">
                                <label for="sysex0">EG R1 </label>
                                <input class="sysexParameter" data-sysexparameterno="0" data-copyid="1"  id="sysex0" max="99" min="0" type="range" />
                            </div>
                            <div class="controller table-cell">
                                <label for="sysex4">EG L1 </label>
                                <input class="sysexParameter" data-sysexparameterno="4" data-copyid="5" id="sysex4" max="99" min="0" type="range" />
                            </div>
                        </div>
                        <div class="table-row">
                            <div class="controller table-cell">
                                <label for="sysex1">EG R2 </label>
                                <input class="sysexParameter" data-sysexparameterno="1" data-copyid="2" id="sysex1" max="99" min="0" type="range" />
                            </div>
                            <div class="controller table-cell">
                                <label for="sysex5">EG L2 </label>
                                <input class="sysexParameter" data-sysexparameterno="5" data-copyid="6" id="sysex5" max="99" min="0" type="range" />
                            </div>
                        </div>
                        <div class="table-row">
                            <div class="controller table-cell">
                                <label for="sysex2">EG R3 </label>
                                <input class="sysexParameter" data-sysexparameterno="2" data-copyid="3" id="sysex2" max="99" min="0" type="range" />
                            </div>
                            <div class="controller table-cell">
                                <label for="sysex6">EG L3 </label>
                                <input class="sysexParameter" data-sysexparameterno="6" data-copyid="7" id="sysex6" max="99" min="0" type="range" />
                            </div>
                        </div>
                        <div class="table-row">
                            <div class="controller table-cell">
                                <label for="sysex3">EG R4 </label>
                                <input class="sysexParameter" data-sysexparameterno="3" data-copyid="4" id="sysex3" max="99" min="0" type="range" />
                            </div>
                            <div class="controller table-cell">
                                <label for="sysex7">EG L4 </label>
                                <input class="sysexParameter" data-sysexparameterno="7" data-copyid="8" id="sysex7" max="99" min="0" type="range" />
                            </div>
                        </div>
                    </div>
                </div>
                <div class="controlitemgroup">
                    <h3>Operator Scaling</h3>
                    <div class="table">
                        <div class="table-row">
                            <div class="controller table-cell">
                                <label for="sysex8">Break Point </label>
                                <input class="sysexParameter" data-sysexparameterno="8" data-copyid="9" id="sysex8" max="99" min="0" type="range" />
                            </div>
                            <div class="controller table-cell">
                                <label for="sysex13">Rate Scale </label>
                                <input class="sysexParameter" data-sysexparameterno="13" data-copyid="14" id="sysex13" max="7" min="0" type="range" />
                            </div>
                        </div>
                        <div class="table-row">
                            <div class="controller table-cell">
                                <label for="sysex9">Left Depth </label>
                                <input class="sysexParameter" data-sysexparameterno="9" data-copyid="10" id="sysex9" max="99" min="0" type="range" />
                            </div>
                            <div class="controller table-cell">
                                <label for="sysex11">Left Curve </label>
                                <input class="sysexParameter" data-sysexparameterno="11" data-copyid="12" data-displayvaluefunc="opScaling" id="sysex11" max="3" min="0" type="range" />
                            </div>
                        </div>
                        <div class="table-row">
                            <div class="controller table-cell">
                                <label for="sysex10">Right Depth </label>
                                <input class="sysexParameter" data-sysexparameterno="10" data-copyid="11" id="sysex10" max="99" min="0" type="range" />
                            </div>
                            <div class="controller table-cell">
                                <label for="sysex12">Right Curve </label>
                                <input class="sysexParameter" data-sysexparameterno="12" data-copyid="13" data-displayvaluefunc="opScaling" id="sysex12" max="3" min="0" type="range" />
                            </div>
                        </div>
                    </div>
                </div>
                <div class="controlitemgroup">
                    <h3>Operator Tuning</h3>
                    <div class="controller">
                        <label for="sysex20">Detune </label>
                        <input class="sysexParameter" data-sysexparameterno="20" data-copyid="15" id="sysex20" max="14" min="0" type="range" />
                    </div>
                    <div class="controller">
                        <label for="sysex18">Frequency Coarse </label>
                        <input class="sysexParameter" data-sysexparameterno="18" data-copyid="16" id="sysex18" max="31" min="0" type="range" />
                    </div>
                    <div class="controller">
                        <label for="sysex19">Frequency Fine </label>
                        <input class="sysexParameter" data-sysexparameterno="19" data-copyid="17" id="sysex19" max="99" min="0" type="range" />
                    </div>
                    <div class="controller">
                        <label for="sysex17">Operator Mode </label>
                        <select class="sysexParameter" data-sysexparameterno="17" data-copyid="18" id="sysex17">
                            <option label="Ratio" value="0"></option>
                            <option label="Fixed" value="1"></option>
                        </select>
                    </div>
                </div>
                <div class="controlitemgroup">
                    <h3>Operator Levels and Sensitivity</h3>
                    <div class="controller">
                        <label for="sysex14">Amp Mod Sense </label>
                        <input class="sysexParameter" data-sysexparameterno="14" data-copyid="19" id="sysex14" max="3" min="0" type="range" />
                    </div>
                    <div class="controller">
                        <label for="sysex15">Key Velocity Sense </label>
                        <input class="sysexParameter" data-sysexparameterno="15" data-copyid="20" id="sysex15" max="7" min="0" type="range" />
                    </div>
                    <div class="controller">
                        <label for="sysex16">Operator Output Level </label>
                        <input class="sysexParameter" data-sysexparameterno="16" data-copyid="21" id="sysex16" max="99" min="0" type="range" />
                    </div>
                </div>
                <div class="controlitemgroup">
                    <div class="envelopeCanvasContainer">
                        <canvas id="op6EnvCanvas" >
                    </div>
                </div>
                <div class="copypaste">
                    <button class="copybutton" data-forcopygroup="Operator6">Copy</button>
                    <button class="pastebutton" data-forcopygroup="Operator6">Paste</button>
                </div>
            </div>
        </div>

        <div class="controlpanel">
            <h2>Global Voice Controls</h2>
            <div class="controlflexlayout">
                <div class="controlitemgroup">
                    <h3>Operator Settings</h3>
                    <div class="controller">
                        <label for="sysex134">Algorithm </label>
                        <input class="sysexParameter" data-sysexparameterno="134" data-displayvaluefunc="addOne" id="sysex134" max="31" min="0" type="range" />
                    </div>
                    <div class="controller">
                        <label for="sysex135">Feedback </label>
                        <input class="sysexParameter" data-sysexparameterno="135" id="sysex135" max="7" min="0" type="range" />
                    </div>
                    <div class="controller">
                        <label for="sysex136">Operator Key Sync </label>
                        <select class="sysexParameter" data-sysexparameterno="136" id="sysex136" type="range">
                            <option label="Off" value="0"></option>
                            <option label="On" value="1"></option>
                        </select>
                    </div>
                    <div class="controller">
                        <label for="sysex144">Transpose </label>
                        <input class="sysexParameter" data-sysexparameterno="144" id="sysex144" max="48" min="0" type="range" />
                    </div>
                </div>
                <div class="controlitemgroup">
                    <h3>Pitch Envelope</h3>
                    <div class="table">
                        <div class="table-row">
                            <div class="controller table-cell">
                                <label for="sysex126">EG R1 </label>
                                <input class="sysexParameter" data-sysexparameterno="126" id="sysex126" max="99" min="0" type="range" />
                            </div>
                            <div class="controller table-cell">
                                <label for="sysex130">EG L1 </label>
                                <input class="sysexParameter" data-sysexparameterno="130" id="sysex130" max="99" min="0" type="range" />
                            </div>
                        </div>
                        <div class="table-row">
                            <div class="controller table-cell">
                                <label for="sysex127">EG R2 </label>
                                <input class="sysexParameter" data-sysexparameterno="127" id="sysex127" max="99" min="0" type="range" />
                            </div>
                            <div class="controller table-cell">
                                <label for="sysex131">EG L2 </label>
                                <input class="sysexParameter" data-sysexparameterno="131" id="sysex131" max="99" min="0" type="range" />
                            </div>
                        </div>
                        <div class="table-row">
                            <div class="controller table-cell">
                                <label for="sysex128">EG R3 </label>
                                <input class="sysexParameter" data-sysexparameterno="128" id="sysex128" max="99" min="0" type="range" />
                            </div>
                            <div class="controller table-cell">
                                <label for="sysex132">EG L3 </label>
                                <input class="sysexParameter" data-sysexparameterno="132" id="sysex132" max="99" min="0" type="range" />
                            </div>
                        </div>
                        <div class="table-row">
                            <div class="controller table-cell">
                                <label for="sysex129">EG R4 </label>
                                <input class="sysexParameter" data-sysexparameterno="129" id="sysex129" max="99" min="0" type="range" />
                            </div>
                            <div class="controller table-cell">
                                <label for="sysex133">EG L4 </label>
                                <input class="sysexParameter" data-sysexparameterno="133" id="sysex133" max="99" min="0" type="range" />
                            </div>
                        </div>
                    </div>
                </div>

                <div class="controlitemgroup">
                    <h3>LFO Settings</h3>
                    <div class="table">
                        <div class="table-row">
                            <div class="controller table-cell">
                                <label for="sysex137">Speed</label>
                                <input class="sysexParameter" data-sysexparameterno="137" id="sysex137" max="99" min="0" type="range" />
                            </div>
                            <div class="controller table-cell">
                                <label for="sysex142">Wave Shape</label>
                                <input class="sysexParameter" data-sysexparameterno="142" data-displayvaluefunc="lfoShape" id="sysex142" max="5" min="0" type="range" />
                            </div>
                            <div class="controller table-cell">
                                <label for="sysex138">Delay</label>
                                <input class="sysexParameter" data-sysexparameterno="138" id="sysex138" max="99" min="0" type="range" />
                            </div>
                        </div>
                        <div class="table-row">
                            <div class="controller table-cell">
                                <label for="sysex143">Pitch Sens</label>
                                <input class="sysexParameter" data-sysexparameterno="143" id="sysex143" max="7" min="0" type="range" />
                            </div>
                            <div class="controller table-cell">
                                <label for="sysex139">Pitch Depth</label>
                                <input class="sysexParameter" data-sysexparameterno="139" id="sysex139" max="99" min="0" type="range" />
                            </div>
                            <div class="controller table-cell">
                                <label for="sysex140">Amp Depth</label>
                                <input class="sysexParameter" data-sysexparameterno="140" id="sysex140" max="99" min="0" type="range" />
                            </div>
                        </div>
                    </div>
                    <div class="controller">
                        <label for="sysex141">Key Sync</label>
                        <select class="sysexParameter" data-sysexparameterno="141" id="sysex141" type="range">
                            <option label="Off" value="0"></option>
                            <option label="On" value="1"></option>
                        </select>
                    </div>
                </div>
                <div class="controlitemgroup">
                    <h3>Patch Settings</h3>
                    <div class="controller">
                        <label for="sysex145">Name</label>
                        <input class="sysexParameterText" data-sysexparameterno="145" data-sysextextlength="10" id="sysex145" type="text" maxlength="10"/>
                    </div>
                </div>
            </div>
        </div>
        
        <div>
            Uses <a href="https://github.com/g200kg/input-knobs">https://github.com/g200kg/input-knobs</a> (<a href="https://github.com/g200kg/input-knobs/blob/master/LICENSE">under the MIT license.</a>)
        </div>
    </div>

    <div id="valueDisplay">100</div><!-- This has to be rendered last so it draws over other absolutely positioned elements -->
</body>

</html>
